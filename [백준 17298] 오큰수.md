# [백준 17298] 오큰수

### 문제

이번 문제에서는 주어진 수열에서 자신의 오른쪽에서 자신보다 큰 가장 가까운 수를 오큰수라고 정의했다.

각 수에 대해 오큰수를 구하면 된다.
 
만약 오큰수가 없다면 -1을 출력하도록 한다.

### 문제해결과정

처음 문제 접근은 한 숫자에 대해서 오른쪽 수와 비교해서 처음으로 큰 수가 나오면 해당 수를 오큰수로 담아놓고 그 다음 숫자로 넘어가는 방식으로 코드를 짰다.

이중 for문을 사용해서 해결하면 다소 쉽게 해결할 수 있지만, 스택을 사용하지 않은 것에 대해 찝찝한 마음을 가지고 제출을 했다.

문제는 시간초과였다.

N은 수열의 크기인데 1,000,000까지이기 때문에 이중 for문을 사용할 경우 시간복잡도가 O(N^2)이 돼서 시간초과가 발생한 것이다.

**틀린 코드**

```python

import sys


input=sys.stdin.readline
N=int(input()) #수열 크기
su=list((map(int, input().split())))
stack=[] #오큰수 저장


for i in range(N):

    for j in range(i,N):
        flag=0
        if su[i] < su[j]:
            stack.append(su[j])
            flag=1
            break
        
    if flag == 0:   
        stack.append(-1)


for i in stack:
    print(i, end=' ')

```
스택을 사용해보고 싶었지만 어떻게 적용해야 할지 몰라 다른 해답을 찾아보았다.

그런데 하나같이 코드가 이해가 가지 않았다.

이 문제는 쉬운 문제가 아니었다.

스택을 몇번 다뤘던 사람들도 좀 까다로워하는 문제였다.

일단 코드먼저 보자.

**정답 코드**

```python

N=int(input()) #수열 크기
su=list((map(int, input().split())))
stack=[]
ans=[-1]*N #오큰수 저장

stack.append(0)

for i in range(1,N): #1~3
    while stack and su[stack[-1]] < su[i]:
        ans[stack.pop()] = su[i]
    stack.append(i) #스택에 인덱스를 저장
    #스택에 인덱스를 저장해서 su를 돌 수 있음


print(*ans) #공백기준 출력

```

스택을 사용하게 되면 수열의 순서대로 오큰수를 저장할 수 없다.

코드를 풀이해보면,

일단 수열의 크기를 받고, su라는 변수에 리스트 형태로 입력을 받아준다.

문제풀이과정에서 사용할 스택과, 출력할 오큰수를 담을 ans를 리스트로 선언했다.

특히 ans는 수열의 수만큼 -1로 초기화시켰는데, 이는 오큰수가 없는 경우는 별다른 동작을 하지 않고, 오큰수가 있을 경우 이를 해당 오큰수로 바꿔주도록 만들기 위함이다.

스택에는 인덱스(0~N-1)를 넣을 건데, 이는 for문에서 su를 하나씩 반복하는 것을 대신해주는 역할을 한다.

0부터 숫자를 넣으며 현재 수의 오큰수를 찾으면 현재 인덱스를 pop 해주고 다음 인덱스를 push한다.

스택에 이미 0을 넣은 상태이므로 for문은 1부터 시작하게 된다. 0을 먼저 넣은 이유는 현재 숫자와 다음 숫자를 비교할 때 i를 사용하기 위함이다.

while문의 동작을 보면,
위에서 말했듯이 스택에 0을 먼저 넣으므로써 i는 1부터 시작하게 된다.

현재 숫자와 다음 숫자를 비교하는 식을 보면
su[stack[-1]] < su[i] 라고 나와 있는데, 이는 곧 su[0] < su[1] 이 된다.

while문은 스택이 비어있지 않고, 다음 숫자가 더 크면 반복하도록 했다.

만약 조건문이 true라면, 스택을 pop한 값을 ans 인덱스로 반환하여 현재의 -1이라고 되어있는 오큰수를 su[i]로 바꾸게 된다.

반복문을 나온 뒤 스택에 다음 인덱스를 push하고 위 과정을 반복한다.

### 요점정리

* print(*ans) : 공백기준 출력

* ans=[-1]*N : for문 돌리지 않고 초기화
