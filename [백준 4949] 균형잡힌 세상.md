# [백준 4949]균형잡힌 세상

### 문제

이번 문제는 소괄호와 대괄호가 짝을 맞춰서 문자열이 균형을 이루는지 판단하는 코드를 짜는 것이다.

한 문장을 입력하고 그에 대한 출력을 나타내면 되고, '.'이 입력되면 입력이 종료되도록 해야한다.



문자열 균형 조건

* 소괄호는 소괄호끼리 묶여야 하고, 대괄호는 대괄호끼리 묶여야 한다.
* 오른쪽 괄호들은 자신과 짝을 이룰 수 있는 왼쪽 괄호가 존재한다.
* 괄호 짝은 1:1 매칭만 가능
* **짝을 이루는 두 괄호가 있을 때 그 사이에 있는 문자열도 균형이 잡혀야 한다.**



마지막 조건이 가장 까다로웠다.

예를 들어 ' ( [ ) ] ' 와 같은 문자열은 짝을 이루고 있지만 균형잡힌 문자열이 아닌 것이다.

처음 접근은 지난 문제와 비슷하게 카운트를 하면서 접근했지만, 마지막 조건을 해결하지 못해 결국 다시 생각해야했다.

이것저것 시도해보다가 너무 답답해서 약간 힌트를 얻고자 검색을 해보았다.

다행히 약간의 힌트를 얻고 문제를 해결할 방법을 찾았다.

일단 여는 괄호는 스택에 넣고, 닫는 괄호는 스택이 비었는지, 아니라면 top에 있는 괄호와 짝이 맞는지 검사를 한다.

만약 스택이 비어있지 않고 짝이 맞다면, 스택에서 pop을 해준다. 하지만 짝이 맞지 않다면 또다른 스택에 현재 괄호를 담아둔다.

이렇게 문자열을 처리한 뒤 결과적으로 스택이 비어있고, 또 다른 스택도 비어있다면 'yes', 그렇지 않은 경우는 모두 'no'를 출력하도록 했다.

코드는 다음과 같다.

```python
while True:
    string = input()
    if string == '.':
        break

    stack=[] #여는 괄호
    tr = [] #남는 괄호
    for i in string:
        if i == "(" or i == "[": #여는 괄호일 때
            stack.append(i) #스택에 넣어줌
        elif i == ")" or i == "]":#닫는 괄호일 때
            if len(stack) != 0: #스택이 비어있지 않고
                if stack[-1] == '(' and i == ")" or stack[-1] == '[' and i == "]": 
                 #짝이 맞으면
                    stack.pop() #스택의 마지막 괄호를 지움
                else: #짝이 안맞으면
                    tr.append(i) #현재 괄호를 다른 스택에 저장
            else: #스택이 비어있는 경우
                tr.append(i)
                break

    if len(stack) == 0 and len(tr) == 0:
        print('yes')
    else:
        print('no')
```

시간 초과가 우려돼서 sys.stdin.readline으로 작성했더니 출력 초과가 떴다. 

그래서 그냥 위 코드대로 제출했더니 통과했다.

시간초과는 문제되지 않는 코드였다.

