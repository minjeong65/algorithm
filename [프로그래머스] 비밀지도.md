# [프로그래머스] 비밀지도

### 문제

1. 지도는 한 변의 길이가 `n`인 정사각형 배열 형태로, 각 칸은 "공백"(" ") 또는 "벽"("#") 두 종류로 이루어져 있다.
2. 전체 지도는 두 장의 지도를 겹쳐서 얻을 수 있다. 각각 "지도 1"과 "지도 2"라고 하자. 지도 1 또는 지도 2 중 어느 하나라도 벽인 부분은 전체 지도에서도 벽이다. 지도 1과 지도 2에서 모두 공백인 부분은 전체 지도에서도 공백이다.
3. "지도 1"과 "지도 2"는 각각 정수 배열로 암호화되어 있다.
4. 암호화된 배열은 지도의 각 가로줄에서 벽 부분을 `1`, 공백 부분을 `0`으로 부호화했을 때 얻어지는 이진수에 해당하는 값의 배열이다.

**입력형식**

입력으로 지도의 한 변 크기 `n` 과 2개의 정수 배열 `arr1`, `arr2`가 들어온다.

- 1 ≦ `n` ≦ 16
- `arr1`, `arr2`는 길이 `n`인 정수 배열로 주어진다.
- 정수 배열의 각 원소 `x`를 이진수로 변환했을 때의 길이는 `n` 이하이다. 즉, 0 ≦ `x` ≦ 2n - 1을 만족한다.

**출력형식** 

원래의 비밀지도를 해독하여 `'#'`, `공백`으로 구성된 문자열 배열로 출력하라.

</br>

### 문제해결과정

다음과 같이 문제풀이순서를 정하고 시작했다.

1. 입력으로 들어오는 두 개의 배열을 이진수로 바꾸고 str 형변환(format)
2. 앞에 0을 채워서 자릿수 맞추기
3. 두 배열의 각 원소들을 OR연산하고 answer배열에 담기(|)
4. 각 원소를 출력형태와 같이 변환(replace)

문제풀이순서에 따라 각 단계별로 다음과 같이 구현했다.



```python
def solution(n,arr1,arr2):
    answer = []
    #십진수 -> 이진수
    for i in range(n):
        arr1[i]=format(arr1[i],'b')
        arr2[i]=format(arr2[i],'b')
        
        #자릿수 맞추기
        while len(arr1[i]) < n:
            arr1[i] = '0'+arr1[i]
        while len(arr2[i]) < n:
            arr2[i] = '0'+arr2[i]

    #지도 합치기
    for i,j in zip(arr1,arr2):
        mp = ''
        for x in range(n):
            result = str(int(i[x]) | int(j[x]))
            mp += result
        answer.append(mp)
        
    #문자로 치환
    for i in range(n): #i는 문자열
        answer[i]=answer[i].replace('1','#')
        answer[i]=answer[i].replace('0',' ')

    return answer
```

</br>

문제를 풀면서 가장 까다로웠던 부분은 이진수로 바꿔서 담는 과정이었다. bin()을 사용해서 이진수로 바꿔주려고 했는데 출력형태가 '0b' 형태로 접두사가 붙어있어서 이를 제거해주기 위해 format()을 사용했다. 

하지만 접두사를 모두 지우다 보니 숫자가 작은 경우 자릿수가 맞지 않았다. 결국 하나씩 확인하면서 자릿수가 맞지않으면 앞에 '0'을 붙이도록 코드를 추가했다.

그 다음 지도를 합치기 위해 두 배열을 zip으로 묶어 for문을 돌렸다.

이때 각 문자열 하나하나를 돌면서 OR 연산을 해주었다. 그리고 결과를 mp에 넣은 뒤 answer에 하나씩 담았다. 

마지막으로 출력 형태로 바꾸기 위해 각 문자열 별로 replace를 적용해서 answer를 반환하도록 했다.

</br>

### 코드개선

통과를 하긴 했지만 효율적이지 못한 코드를 짠 것 같아 찜찜했었는데 다음 코드를 보고 현타가 왔다.

내가 단계별로 나눠 놓은 것을 거의 한 개당 한 줄씩 구현해놓았다.

```python
def solution(n, arr1, arr2):
    answer = []
    for i,j in zip(arr1,arr2):
        a12 = bin(i|j)[2:] #이진수 바꾸고 접두사 이후부터 담기
        a12=a12.rjust(n,'0') #오른쪽 정렬, 공백에 0 채워넣기
        a12=a12.replace('1','#') #문자 치환
        a12=a12.replace('0',' ')
        answer.append(a12)
    return answer

```

코드의 가장 많은 비중을 차지했던 이진수 변환과 OR연산을 단 한 줄로 구현했다.

bin 안에서 OR 연산이 가능한 줄 몰랐다. bin()의 결과는 str형태로 반환되므로 바로 슬라이싱까지 해주었다.

또 처음 알게 된 함수는 rjust이다. 이것은 오른쪽 정렬을 해서 값을 반환하는데, 자릿수가 맞지 않을 경우 n만큼 지정한 문자열로 채워서 반환한다. 

while문을 두 개를 써가며 구현했던 부분을 이렇게 단순하게 만들 수 있다는게 신기하다.

</br>

### 요약정리

* 십진수 => 이진수 변환
  * bin(숫자) : str형으로 반환
  * format(숫자, 접두사) : 접두사를 제외하고 값만 얻고 싶을 때 사용, str형으로 반환
* 0 채우기
  * rjust(정렬할 개수, 채울 문자열) : 오른쪽 정렬 후, 빈 공간을 문자열로 채움
  * zfill(n): 문자열이 n만큼 되도록 앞에서부터 0을 채움

